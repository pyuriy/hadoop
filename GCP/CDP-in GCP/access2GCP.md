–©–æ–± Terraform –º—ñ–≥ –∫–µ—Ä—É–≤–∞—Ç–∏ –≤–∞—à–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –≤ Google Cloud, –π–æ–º—É –ø–æ—Ç—Ä—ñ–±–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –ø—Ä–∞–≤–∞. –ù–∞–π–±—ñ–ª—å—à –Ω–∞–¥—ñ–π–Ω–∏–π —Ç–∞ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π —Å–ø–æ—Å—ñ–± –∑—Ä–æ–±–∏—Ç–∏ —Ü–µ ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **Service Account (–°–µ—Ä–≤—ñ—Å–Ω–∏–π –∞–∫–∞—É–Ω—Ç)**.

–û—Å—å –ø–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è, —è–∫ —Ü–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏:

---

### –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–µ—Ä–≤—ñ—Å–Ω–æ–≥–æ –∞–∫–∞—É–Ω—Ç–∞ –≤ –∫–æ–Ω—Å–æ–ª—ñ GCP

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É —Ä–æ–∑–¥—ñ–ª **IAM & Admin > Service Accounts**.
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **+ Create Service Account**.
3. –î–∞–π—Ç–µ –π–æ–º—É —ñ–º'—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `terraform-manager`).
4. **–ü—Ä–∏–∑–Ω–∞—á—Ç–µ —Ä–æ–ª—ñ:** –î–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –≤–∞—à–∏–º —Å–∫—Ä–∏–ø—Ç–æ–º Hadoop –∞–∫–∞—É–Ω—Ç—É –∑–Ω–∞–¥–æ–±–ª—è—Ç—å—Å—è:
* `Compute Admin` (–∫–µ—Ä—É–≤–∞–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∏–º–∏ –º–∞—à–∏–Ω–∞–º–∏ —Ç–∞ –¥–∏—Å–∫–∞–º–∏).
* `Network Admin` (–∫–µ—Ä—É–≤–∞–Ω–Ω—è VPC —Ç–∞ Firewall).
* `Service Account User` (—â–æ–± –ø—Ä–∏–∫—Ä—ñ–ø–ª—é–≤–∞—Ç–∏ –ø—Ä–∞–≤–∞ –¥–æ VM).


5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Done**.

### –ö—Ä–æ–∫ 2: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è JSON-–∫–ª—é—á–∞

1. –£ —Å–ø–∏—Å–∫—É —Å–µ—Ä–≤—ñ—Å–Ω–∏—Ö –∞–∫–∞—É–Ω—Ç—ñ–≤ –∑–Ω–∞–π–¥—ñ—Ç—å —â–æ–π–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π.
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Keys** (–ö–ª—é—á—ñ).
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Add Key > Create new key**.
4. –û–±–µ—Ä—ñ—Ç—å —Ñ–æ—Ä–º–∞—Ç **JSON** —ñ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **Create**.
5. –§–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å—Å—è –Ω–∞ –≤–∞—à –∫–æ–º–ø'—é—Ç–µ—Ä. **–ó–±–µ—Ä–µ–∂—ñ—Ç—å –π–æ–≥–æ –≤ –Ω–∞–¥—ñ–π–Ω–æ–º—É –º—ñ—Å—Ü—ñ** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —É –ø–∞–ø–∫—É –∑ –≤–∞—à–∏–º Terraform –ø—Ä–æ–µ–∫—Ç–æ–º –ø—ñ–¥ –Ω–∞–∑–≤–æ—é `gcp-key.json`).

---

### –ö—Ä–æ–∫ 3: –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∫–ª—é—á–∞ –¥–æ Terraform

–¢–µ–ø–µ—Ä –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å–∫–∞–∑–∞—Ç–∏ Terraform, –¥–µ —à—É–∫–∞—Ç–∏ —Ü–µ–π –∫–ª—é—á. –Ñ –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ñ —Å–ø–æ—Å–æ–±–∏:

#### –°–ø–æ—Å—ñ–± –ê: –ü—Ä—è–º–æ –≤ –∫–æ–¥—ñ `main.tf` (–ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π –¥–ª—è –ø–æ—á–∞—Ç–∫—É)

–î–æ–¥–∞–π—Ç–µ –∞—Ä–≥—É–º–µ–Ω—Ç `credentials` —É –±–ª–æ–∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:

```hcl
provider "google" {
  credentials = file("gcp-key.json")
  project     = var.project_id
  region      = var.region
}

```

#### –°–ø–æ—Å—ñ–± –ë: –ß–µ—Ä–µ–∑ –∑–º—ñ–Ω–Ω—É –æ—Ç–æ—á–µ–Ω–Ω—è (–ë—ñ–ª—å—à –±–µ–∑–ø–µ—á–Ω–∏–π)

–ó–∞–º—ñ—Å—Ç—å —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∫–æ–¥—É, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∫–∞–∑–∞—Ç–∏ —à–ª—è—Ö –¥–æ –∫–ª—é—á–∞ –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ. Terraform —Å–∞–º –∑–Ω–∞–π–¥–µ –π–æ–≥–æ:

```bash
export GOOGLE_APPLICATION_CREDENTIALS="/—à–ª—è—Ö/–¥–æ/–≤–∞—à–æ–≥–æ/gcp-key.json"

```

---

### –ö—Ä–æ–∫ 4: –£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö API

Google Cloud –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –≤–∏–º–∏–∫–∞—î –±—ñ–ª—å—à—ñ—Å—Ç—å API. –©–æ–± Terraform –º—ñ–≥ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Ä–µ—Å—É—Ä—Å–∏, –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏ —É–≤—ñ–º–∫–Ω—É–ª–∏:

* **Compute Engine API**

–í–∏ –º–æ–∂–µ—Ç–µ –∑—Ä–æ–±–∏—Ç–∏ —Ü–µ —á–µ—Ä–µ–∑ —Ç–µ—Ä–º—ñ–Ω–∞–ª:

```bash
gcloud services enable compute.googleapis.com

```

---

### üí° –í–∞–∂–ª–∏–≤–∞ –ø–æ—Ä–∞–¥–∞ —â–æ–¥–æ –±–µ–∑–ø–µ–∫–∏

–ù—ñ–∫–æ–ª–∏ –Ω–µ –¥–æ–¥–∞–≤–∞–π—Ç–µ –≤–∞—à JSON-—Ñ–∞–π–ª —É Git! –Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ GitHub/GitLab, –¥–æ–¥–∞–π—Ç–µ `*.json` —É —Ñ–∞–π–ª `.gitignore`. –Ø–∫—â–æ –∫–ª—é—á –ø–æ—Ç—Ä–∞–ø–∏—Ç—å —É –≤—ñ–¥–∫—Ä–∏—Ç–∏–π –¥–æ—Å—Ç—É–ø, —Ö—Ç–æ—Å—å —ñ–Ω—à–∏–π –∑–º–æ–∂–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –¥–æ—Ä–æ–≥—ñ —Å–µ—Ä–≤–µ—Ä–∏ –∑–∞ –≤–∞—à —Ä–∞—Ö—É–Ω–æ–∫.

### –©–æ –¥–∞–ª—ñ?

–ü—ñ—Å–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–ª—é—á–∞ —Å–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é:

```bash
terraform init
terraform plan

```

–Ø–∫—â–æ `terraform plan` –ø–æ–∫–∞–∑—É—î —Å–ø–∏—Å–æ–∫ —Ä–µ—Å—É—Ä—Å—ñ–≤ –±–µ–∑ –ø–æ–º–∏–ª–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó ‚Äî –≤—ñ—Ç–∞—é, –≤–∏ –≤ –≥—Ä—ñ!

**–ß–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–ø–æ–º–æ–≥—Ç–∏ –∑ –Ω–∞–ø–∏—Å–∞–Ω–Ω—è–º —Ñ–∞–π–ª—É `.gitignore`, —â–æ–± –≤–∏ –≤–∏–ø–∞–¥–∫–æ–≤–æ –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–ª–∏ —Å–≤–æ—ó –∫–ª—é—á—ñ –≤ –º–µ—Ä–µ–∂—É?**
